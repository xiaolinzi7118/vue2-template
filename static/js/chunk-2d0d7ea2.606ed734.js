(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d7ea2"],{"799c":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("le-container",{staticClass:"crud",attrs:{full:""}},[o("le-header",[o("le-toolbar",{staticClass:"toolbar-demo",scopedSlots:t._u([{key:"append",fn:function(){return[o("le-search-bar",{attrs:{columns:t.columns,mini:""},on:{submit:t.onSearch,reset:t.onSearch}})]},proxy:!0}])},[o("el-button-group",[o("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:t.onAdd}},[t._v("新增")]),t._v(" "),o("el-button",{attrs:{size:"small",icon:"el-icon-delete"},on:{click:function(e){return t.onDelete()}}},[t._v("删除")])],1)],1)],1),t._v(" "),o("le-main",{attrs:{padding:"",scroll:""}},[o("le-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",attrs:{columns:t.columns,data:t.dataItems,"row-key":"id","select-type":"checkbox","show-num":"",pagination:""},on:{change:t.onChange,select:t.onSelect}})],1),t._v(" "),o("le-footer"),t._v(" "),o("FormDialog",{attrs:{columns:t.columns,visible:t.visibleForm,record:t.record},on:{submit:t.onSubmitForm,close:t.onCloseForm}})],1)},i=[],s=o("b775");function r(t){return Object(s["a"])({url:"/vue-admin-template/datatable/list",method:"post",data:t})}var a=function(t){return[{title:"名称",name:"name",tableItem:{},formItem:{},searchItem:{}},{title:"年龄",name:"age",tableItem:{},formItem:{}},{title:"地址",name:"address",tableItem:{},formItem:{}},{title:"操作",tableItem:{width:180,render:function(e){return function(o){return o("le-table-oper",[o("el-button",{attrs:{icon:"el-icon-edit"},on:{click:function(o){return t.onEdit(e.row)}}}),o("el-button",{attrs:{icon:"el-icon-delete"},on:{click:function(o){return t.onDelete(e.row)}}})])}}}}]},l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-dialog",{attrs:{title:t.record.id?"修改":"新增",visible:t.visible,width:"400"},on:{close:t.onClose}},[o("le-form",{ref:"form",attrs:{columns:t.columns,record:t.record,footer:!1}}),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:t.onClose}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确 定")])],1)],1)},c=[],u={props:["visible","record","columns"],methods:{onSubmit:function(t){var e=this;this.$refs.form.submitForm((function(t){e.$emit("submit",t)}))},onClose:function(){this.$emit("close")}}},m=u,d=o("2877"),f=Object(d["a"])(m,l,c,!1,null,"3deb1f82",null),b=f.exports,h={name:"Crud",components:{FormDialog:b},data:function(){return{loading:!1,columns:a(this),dataItems:{pageNum:1,pageSize:10,total:100,totalPages:10,list:[]},selectedRow:[],visibleForm:!1,record:{}}},mounted:function(){this.getListData({})},methods:{getListData:function(t){var e=this,o=t.pageNum,n=t.pageSize,i=t.sorter;this.loading=!0,r({pageNum:o||1,pageSize:n||10,sorter:i}).then((function(t){e.dataItems=t.data,e.loading=!1}))},onChange:function(t){var e=t.pageNum,o=t.pageSize,n=t.sorter;t.filter;this.getListData({pageNum:e,pageSize:o,sorter:n})},onSelect:function(t,e,o){console.log(t,e,o),this.selectedRow=t},onAdd:function(){this.record={},this.visibleForm=!0},onEdit:function(t){this.record=t,this.visibleForm=!0},onDelete:function(t){var e=this;t||this.selectedRow.length?this.$confirm("是否删除所选数据?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$message.success("操作成功！"),e.getListData({}),e.$refs.table.clearSelection(),e.selectedRow=[]})):this.$message.warning("请选择要删除的数据！")},onSearch:function(t){this.getListData({})},onSubmitForm:function(t){this.visibleForm=!1,this.$message.success("操作成功！"),this.getListData({})},onCloseForm:function(){this.visibleForm=!1}}},g=h,p=Object(d["a"])(g,n,i,!1,null,"77c5bf50",null);e["default"]=p.exports}}]);